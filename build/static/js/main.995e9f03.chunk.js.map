{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/ErrorNotification.js","components/SuccessNotification.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","PersonForm","addPerson","states","handlers","onSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","DeleteButton","person","deletePerson","onClick","id","name","Person","number","Persons","peopleToShow","map","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","deleteItem","delete","update","put","ErrorNotification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","SuccessNotification","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","initialPersons","filter","toLowerCase","includes","e","target","preventDefault","personObject","i","alert","window","confirm","returnedPerson","setTimeout","catch","error","length","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.995e9f03.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ newFilter, handleFilterChange }) => (\n    <p>filter shown with <input value={newFilter} onChange={handleFilterChange} /></p>\n)\n\nexport default Filter","import React from \"react\";\n\nconst PersonForm = ({ addPerson, states, handlers }) => (\n    <form onSubmit={addPerson}>\n        <div>name: <input\n            value={states.newName}\n            onChange={handlers.handleNameChange} />\n        </div>\n        <div>number: <input\n            value={states.newNumber}\n            onChange={handlers.handleNumberChange} />\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n    </form>\n)\n\nexport default PersonForm","import React from \"react\";\n\nconst DeleteButton = ({ person, deletePerson }) => (\n    <button onClick={() => deletePerson(person.id, person.name)}> delete</button >\n)\n\nconst Person = ({ person, deletePerson }) => (\n    <p>{person.name} {person.number} <DeleteButton person={person} deletePerson={deletePerson} /></p>\n)\n\nconst Persons = ({ peopleToShow, deletePerson }) => (\n    <div>\n        {peopleToShow.map(person => <Person key={person.name} person={person} deletePerson={deletePerson} />)}\n    </div>\n)\n\nexport default Persons","import axios from \"axios\";\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteItem = id => axios.delete(`${baseUrl}/${id}`)\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst personService = { getAll, create, deleteItem, update }\nexport default personService","import React from \"react\";\n\nconst ErrorNotification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    const notificationStyle = {\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    return (\n        <div style={notificationStyle}>\n            {message}\n        </div>\n    )\n}\n\nexport default ErrorNotification","import React from \"react\";\n\nconst SuccessNotification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    const notificationStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    return (\n        <div style={notificationStyle}>\n            {message}\n        </div>\n    )\n}\n\nexport default SuccessNotification","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport ErrorNotification from './components/ErrorNotification'\nimport SuccessNotification from './components/SuccessNotification'\n\n\nconst App = () => {\n  // useStates\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  // Form submit function\n  const addPerson = (e) => {\n    e.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    for (let i = 0; i < persons.length; i++) {\n      if (persons[i].name === newName && persons[i].number === newNumber) {\n        alert(`${newName} is already added to phonebook`)\n        setNewName('')\n        setNewNumber('')\n        return\n      } else if (persons[i].name === newName) {\n        if (window.confirm(`${persons[i].name} is already added to phonebook, replace the old number with a new one?`)) {\n          personService\n            .update(persons[i].id, personObject)\n            .then(returnedPerson => {\n              setPersons(persons.map(person => person.id !== persons[i].id ? person : returnedPerson))\n              setNewName('')\n              setNewNumber('')\n              setSuccessMessage(`Updated ${returnedPerson.name}`)\n              setTimeout(() => {\n                setSuccessMessage(null)\n              }, 3000)\n            })\n            .catch(error => {\n              setErrorMessage(`Information of ${persons[i].name} has already been removed from server`)\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 3000)\n              setPersons(persons.filter(person => person.id !== persons[i].id))\n              setNewName('')\n              setNewNumber('')\n            })\n          return\n        } else {\n          setNewName('')\n          setNewNumber('')\n          return\n        }\n      }\n    }\n\n    personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setSuccessMessage(`Added ${returnedPerson.name}`)\n        setTimeout(() => {\n          setSuccessMessage(null)\n        }, 3000)\n      })\n  }\n\n  const deletePerson = (id, name) => {\n    if (window.confirm(`Delete ${name}`)) {\n      personService.deleteItem(id)\n      setPersons(persons.filter(person => person.id !== id))\n    }\n  }\n\n\n  // Functions to handle onChange\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleFilterChange = (e) => {\n    setNewFilter(e.target.value)\n  }\n\n\n  // Filters persons array based on filter useState\n  const peopleToShow = persons.filter(person => person.name.toLowerCase().includes(newFilter))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <ErrorNotification message={errorMessage} />\n      <SuccessNotification message={successMessage} />\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <h2>add a new</h2>\n      <PersonForm addPerson={addPerson} states={{ newName, newNumber }} handlers={{ handleNameChange, handleNumberChange }} />\n      <h2>Numbers</h2>\n      <Persons peopleToShow={peopleToShow} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />,\n  document.getElementById('root'))\n"],"sourceRoot":""}