{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/ErrorNotification.js","components/SuccessNotification.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","PersonForm","addPerson","states","handlers","onSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","DeleteButton","person","deletePerson","onClick","id","name","Person","number","Persons","peopleToShow","map","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","deleteItem","delete","update","put","ErrorNotification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","SuccessNotification","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","initialPersons","filter","toLowerCase","includes","e","target","preventDefault","personObject","i","alert","window","confirm","returnedPerson","setTimeout","catch","error","length","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.81330585.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ newFilter, handleFilterChange }) => (\r\n    <p>filter shown with <input value={newFilter} onChange={handleFilterChange} /></p>\r\n)\r\n\r\nexport default Filter","import React from \"react\";\r\n\r\nconst PersonForm = ({ addPerson, states, handlers }) => (\r\n    <form onSubmit={addPerson}>\r\n        <div>name: <input\r\n            value={states.newName}\r\n            onChange={handlers.handleNameChange} />\r\n        </div>\r\n        <div>number: <input\r\n            value={states.newNumber}\r\n            onChange={handlers.handleNumberChange} />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n)\r\n\r\nexport default PersonForm","import React from \"react\";\r\n\r\nconst DeleteButton = ({ person, deletePerson }) => (\r\n    <button onClick={() => deletePerson(person.id, person.name)}> delete</button >\r\n)\r\n\r\nconst Person = ({ person, deletePerson }) => (\r\n    <p>{person.name} {person.number} <DeleteButton person={person} deletePerson={deletePerson} /></p>\r\n)\r\n\r\nconst Persons = ({ peopleToShow, deletePerson }) => (\r\n    <div>\r\n        {peopleToShow.map(person => <Person key={person.name} person={person} deletePerson={deletePerson} />)}\r\n    </div>\r\n)\r\n\r\nexport default Persons","import axios from \"axios\";\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteItem = id => axios.delete(`${baseUrl}/${id}`)\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst personService = { getAll, create, deleteItem, update }\r\nexport default personService","import React from \"react\";\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    const notificationStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    return (\r\n        <div style={notificationStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorNotification","import React from \"react\";\r\n\r\nconst SuccessNotification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    const notificationStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    return (\r\n        <div style={notificationStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SuccessNotification","import React, { useEffect, useState } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/persons'\r\nimport ErrorNotification from './components/ErrorNotification'\r\nimport SuccessNotification from './components/SuccessNotification'\r\n\r\n\r\nconst App = () => {\r\n  // useStates\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newFilter, setNewFilter] = useState('')\r\n  const [successMessage, setSuccessMessage] = useState(null)\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  // Form submit function\r\n  const addPerson = (e) => {\r\n    e.preventDefault()\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    for (let i = 0; i < persons.length; i++) {\r\n      if (persons[i].name === newName && persons[i].number === newNumber) {\r\n        alert(`${newName} is already added to phonebook`)\r\n        setNewName('')\r\n        setNewNumber('')\r\n        return\r\n      } else if (persons[i].name === newName) {\r\n        if (window.confirm(`${persons[i].name} is already added to phonebook, replace the old number with a new one?`)) {\r\n          personService\r\n            .update(persons[i].id, personObject)\r\n            .then(returnedPerson => {\r\n              setPersons(persons.map(person => person.id !== persons[i].id ? person : returnedPerson))\r\n              setNewName('')\r\n              setNewNumber('')\r\n              setSuccessMessage(`Updated ${returnedPerson.name}`)\r\n              setTimeout(() => {\r\n                setSuccessMessage(null)\r\n              }, 3000)\r\n            })\r\n            .catch(error => {\r\n              setErrorMessage(`Information of ${persons[i].name} has already been removed from server`)\r\n              setTimeout(() => {\r\n                setErrorMessage(null)\r\n              }, 3000)\r\n              setPersons(persons.filter(person => person.id !== persons[i].id))\r\n              setNewName('')\r\n              setNewNumber('')\r\n            })\r\n          return\r\n        } else {\r\n          setNewName('')\r\n          setNewNumber('')\r\n          return\r\n        }\r\n      }\r\n    }\r\n\r\n    personService\r\n      .create(personObject)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson))\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setSuccessMessage(`Added ${returnedPerson.name}`)\r\n        setTimeout(() => {\r\n          setSuccessMessage(null)\r\n        }, 3000)\r\n      })\r\n  }\r\n\r\n  const deletePerson = (id, name) => {\r\n    if (window.confirm(`Delete ${name}`)) {\r\n      personService.deleteItem(id)\r\n      setPersons(persons.filter(person => person.id !== id))\r\n    }\r\n  }\r\n\r\n\r\n  // Functions to handle onChange\r\n  const handleNameChange = (e) => {\r\n    setNewName(e.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (e) => {\r\n    setNewNumber(e.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (e) => {\r\n    setNewFilter(e.target.value)\r\n  }\r\n\r\n\r\n  // Filters persons array based on filter useState\r\n  const peopleToShow = persons.filter(person => person.name.toLowerCase().includes(newFilter))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <ErrorNotification message={errorMessage} />\r\n      <SuccessNotification message={successMessage} />\r\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\r\n      <h2>add a new</h2>\r\n      <PersonForm addPerson={addPerson} states={{ newName, newNumber }} handlers={{ handleNameChange, handleNumberChange }} />\r\n      <h2>Numbers</h2>\r\n      <Persons peopleToShow={peopleToShow} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />,\n  document.getElementById('root'))\n"],"sourceRoot":""}